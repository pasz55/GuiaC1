angular.module("starter").factory("LoyaltyCard",function($pwaRequest){var factory={value_id:null,extendedOptions:{}};return factory.setValueId=function(value_id){factory.value_id=value_id},factory.setExtendedOptions=function(options){factory.extendedOptions=options},factory.findAll=function(refresh){if(!this.value_id)return $pwaRequest.reject("[Factory::LoyaltyCard.findAll] missing value_id");var payload=$pwaRequest.getPayloadForValueId(factory.value_id);return!1!==payload?$pwaRequest.resolve(payload):$pwaRequest.get("loyaltycard/mobile_view/findall",angular.extend({urlParams:{value_id:this.value_id},refresh:refresh},factory.extendedOptions))},factory.validate=function(pad){return this.value_id?$pwaRequest.post("loyaltycard/mobile_view/validate",{urlParams:{value_id:this.value_id},data:{customer_card_id:pad.card.id,number_of_points:pad.number_of_points,password:pad.password,mode_qrcode:pad.mode_qrcode},cache:!1}):$pwaRequest.reject("[Factory::LoyaltyCard.validate] missing value_id")},factory});