angular.module("starter").factory("Rss",function($pwaRequest){var factory={value_id:null,extendedOptions:{},collection:[]};return factory.setValueId=function(value_id){factory.value_id=value_id},factory.setExtendedOptions=function(options){factory.extendedOptions=options},factory.preFetch=function(){factory.findAll()},factory.findAll=function(){return this.value_id?$pwaRequest.get("rss/mobile_feed_list/findall",angular.extend({urlParams:{value_id:this.value_id}},factory.extendedOptions)):$pwaRequest.reject("[Factory::Rss.findAll] missing value_id")},factory.find=function(feed_id){return this.value_id?$pwaRequest.get("rss/mobile_feed_view/find",{urlParams:{value_id:this.value_id,feed_id:feed_id}}):$pwaRequest.reject("[Factory::Rss.find] missing value_id")},factory.getFeed=function(feed_id){if(!this.value_id)return $pwaRequest.reject("[Factory::Rss.getFeed] missing value_id");var feed=_.get(_.filter(factory.collection,function(feed){return feed.id==feed_id})[0],"embed_payload",!1);return feed?$pwaRequest.resolve(feed):factory.find(feed_id)},factory});