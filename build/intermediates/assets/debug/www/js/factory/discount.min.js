angular.module("starter").factory("Discount",function($pwaRequest,Tc){var factory={value_id:null,extendedOptions:{}};return factory.setValueId=function(value_id){factory.value_id=value_id},factory.setExtendedOptions=function(options){factory.extendedOptions=options},factory.preFetch=function(){factory.findAll()},factory.findAll=function(refresh){return this.value_id?$pwaRequest.get("promotion/mobile_list/findall",angular.extend({urlParams:{value_id:this.value_id},refresh:refresh},factory.extendedOptions)):$pwaRequest.reject("[Factory::Discount.findAll] missing value_id")},factory.find=function(promotion_id,refresh){return this.value_id?$pwaRequest.get("promotion/mobile_view/find",{urlParams:{value_id:this.value_id,promotion_id:promotion_id},refresh:refresh}):$pwaRequest.reject("[Factory::Discount.find] missing value_id")},factory.use=function(promotion_id){return this.value_id?$pwaRequest.post("promotion/mobile_list/use",{data:{value_id:this.value_id,promotion_id:promotion_id},cache:!1}):$pwaRequest.reject("[Factory::Discount.use] missing value_id")},factory.unlockByQRCode=function(qrcode){return this.value_id?$pwaRequest.post("promotion/mobile_list/unlockByQRCode",{data:{value_id:this.value_id,qrcode:qrcode},cache:!1}):$pwaRequest.reject("[Factory::Discount.unlockByQRCode] missing value_id")},factory});