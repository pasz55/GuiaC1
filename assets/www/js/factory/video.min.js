angular.module("starter").factory("Video",function($pwaRequest,Youtube){var factory={value_id:null,extendedOptions:{}};return factory.setValueId=function(value_id){factory.value_id=value_id},factory.setExtendedOptions=function(options){factory.extendedOptions=options},factory.preFetch=function(){factory.findAll()},factory.findAll=function(){if(!this.value_id)return $pwaRequest.reject("[Factory::Video.findAll] missing value_id");var payload=$pwaRequest.getPayloadForValueId(factory.value_id);return!1!==payload?$pwaRequest.resolve(payload):$pwaRequest.get("media/mobile_gallery_video_list/findall",angular.extend({urlParams:{value_id:this.value_id}},factory.extendedOptions))},factory.find=function(item){return this.value_id?$pwaRequest.get("media/mobile_gallery_video_view/find",{urlParams:{value_id:this.value_id,gallery_id:item.id,offset:item.current_offset}}):$pwaRequest.reject("[Factory::Video.find] missing value_id")},factory.findInYouTube=function(search_by,keyword,offset){return"user"===search_by?Youtube.findByUser(keyword,offset):"channel"===search_by?Youtube.findByChannel(keyword,offset):Youtube.findBySearch(keyword,offset)},factory});