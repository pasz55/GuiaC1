angular.module("starter").factory("Padlock",function($pwaRequest){var factory={value_id:null,events:{}};return factory.setValueId=function(value_id){factory.value_id=value_id},factory.onStatusChange=function(id,urls){factory.events[id]=urls},factory.flushData=function(){for(var i in factory.events)if(angular.isArray(factory.events[i]))for(var data=factory.events[i],j=0;j<data.length;j++)$pwaRequest.cache(data[j])},factory.findUnlockTypes=function(){return this.value_id?$pwaRequest.get("padlock/mobile_view/findunlocktypes",{urlParams:{value_id:this.value_id}}):$pwaRequest.reject("[Factory::Padlock.findUnlockTypes] missing value_id")},factory.find=function(){return this.value_id?$pwaRequest.get("padlock/mobile_view/find",{urlParams:{value_id:this.value_id}}):$pwaRequest.reject("[Factory::Padlock.find] missing value_id")},factory.unlockByQRCode=function(qrcode){return qrcode?$pwaRequest.post("padlock/mobile_view/unlockByQRCode",{data:{qrcode:qrcode},cache:!1}):$pwaRequest.reject("[Factory::Padlock.unlockByQRCode] missing value_id")},factory});